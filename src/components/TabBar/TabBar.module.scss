.root {
    display: flex;
    position: relative;
    align-items: flex-start;
    align-self: stretch;
    box-shadow: 0 -0.33px 0 0 var(--separator-non-opaque);
    background: var(--tg-theme-bottom-bar-bg-color);
    padding-bottom: env(safe-area-inset-bottom);
    will-change: transform;

    :global(body.apple26) & {
        position: absolute;
        left: 21px;
        right: 21px;
        margin: 0;
        bottom: 21px;
        border-radius: 100px;
        padding: 4px;
        background: rgba(from var(--tg-theme-section-bg-color) r g b / 0.7);
        backdrop-filter: saturate(180%) blur(8px);
        box-shadow: none !important;
        isolation: isolate;

        &::after {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: inherit;
            pointer-events: none;
            z-index: 1;
            box-shadow: 0 0 10px 0 rgba(0 0 0 / 0.1);
        }

        &::before {
            content: "";
            position: absolute;
            inset: 0;
            border-radius: inherit;
            pointer-events: none;
            z-index: 0;
            box-shadow: 0.67px 0.67px 0.25px 0 white inset, 
                    -0.67px -0.67px 0.25px 0 white inset, 
                    0 0 20px 0 var(--tg-theme-section-bg-color) inset !important;
            mix-blend-mode: saturation;
        }

        .tab:not(:first-child) {
            margin-left: -7.33px;
        }
    }

    :global(body.apple) & {
        box-shadow: 0 -0.33px 0 0 var(--separator-non-opaque);
    }

    :global(body.material) & {
        box-shadow: 0 -0.5px 0 0 var(--tg-theme-section-separator-color), 
            0 1px 3px 0 rgb(0 0 0 / 6%);
    }

    .tab {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 2px;
        flex: 1 0 0;
        text-decoration: none;
        font-weight: 500;

        :global(body.apple26) & {
            opacity: 0.9 !important;
            position: relative;
            z-index: 2; // keep content above ::before/::after layers
        }

        :global(body.apple26) .root[data-color-scheme="dark"] & {
            mix-blend-mode: plus-darker;
        }

        :global(body.apple26) .root[data-color-scheme="dark"] & {
            mix-blend-mode: plus-lighter;
        }

        :global(body.apple) & {
            padding: 2px 0 1px;
            color: var(--tg-theme-text-color);
            font-size: 10px;
            line-height: 12px;
            opacity: 0.4;
            gap: 2px;

            :global(.wallet-lottie_fill-color) path {
                fill: var(--tg-theme-text-color);
            }

            :global(.wallet-lottie_stroke-color) path {
                stroke: var(--tg-theme-text-color);
            }

            svg, path {
                fill: var(--tg-theme-text-color);
                height: 32px;
            }

            .icon {
                height: 32px;
            }
        }

        :global(body.material) & {
            padding: 6px 0 3px;
            color: var(--tg-theme-subtitle-text-color);
            font-size: 13px;
            line-height: 16px;
            gap: 3px;

            svg, path {
                fill: var(--tg-theme-subtitle-text-color);
                height: 28px;
            }

            .icon {
                height: 28px;
            }
        }
    }

    .tab.active {
        :global(body.apple) & {
            color: var(--tg-theme-accent-text-color);
            opacity: 1;

            :global(.wallet-lottie_fill-color) path {
                fill: var(--tg-theme-accent-text-color);
            }

            :global(.wallet-lottie_stroke-color) path {
                stroke: var(--tg-theme-accent-text-color);
            }

            svg, path {
                fill: var(--tg-theme-accent-text-color);
            }
        }

        :global(body.apple26) .root[data-color-scheme="dark"] & {
            mix-blend-mode: plus-lighter;
        }

        :global(body.apple26) & {
            font-weight: 700;
            border-radius: 100px;
        }

        :global(body.material) & {
            color: var(--tg-theme-text-color);

            svg, path {
                fill: var(--tg-theme-text-color);
            }
        }
    }

    .gradient {
        position: absolute;
        content: "";
        inset: 0;
        background: linear-gradient(
            to bottom,
            rgba(from var(--tg-theme-secondary-bg-color) r g b / 0),
            rgba(from var(--tg-theme-secondary-bg-color) r g b / 0.9)
        );
        z-index: -1;
        margin: -12px -21px -21px;
    }

    .activeIndicator {
        position: absolute;
        bottom: 0;
        left: 0;
        width: 50%;
        height: 100%;
        background-color: var(--tg-theme-accent-text-color);
        border-radius: 2px 2px 0 0;
        z-index: 2;
        will-change: left;

        :global(body.apple26) & {
            background-color: var(--secondary-button-color);
            border-radius: 100px;
            height: calc(100% - 8px);
            top: 4px;
            z-index: 1;
        }
    }
}